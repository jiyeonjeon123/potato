int frameNum = 22;
PImage[] img = new PImage[frameNum];
int frame = 0;
int count = 0;

void setup() {
  size(914, 463);
  background(#FF8614);  // 배경 색상 변경 (주황색)
  
  // 이미지를 로드하고, 크기를 랜덤하게 설정
  for (int i = 0; i < frameNum; i++) {
    img[i] = loadImage("img" + nf(i, 2) + ".png");
    
    // 이미지를 랜덤 크기로 리사이즈 (최소 크기 100, 최대 크기 200)
    int newWidth = int(random(100, 200));  // 최소 크기를 100으로 설정
    int newHeight = int(random(100, 200));  // 최소 크기를 100으로 설정
    img[i].resize(newWidth, newHeight);  
  }
} // setup() 끝

void draw() {
  // draw 함수는 빈 상태로 두었으므로 특별히 필요한 경우 추가
} // draw() 끝

void mousePressed() {
  frame = int(random(frameNum));  // 인덱스를 frameNum 범위 내로 제한
  
  // 마우스 클릭 위치로 이동
  translate(mouseX, mouseY); 
  
  // 이미지 크기를 랜덤하게 조정
  scale(random(0.1, 1.5));  // 이미지 크기를 10% ~ 150% 사이로 랜덤하게 설정
  
  // 이미지 회전 추가
  rotate(random(TWO_PI)); 
  
  // 이미지 필터 추가 (랜덤 필터 적용)
  if (frame < 4) { 
    img[frame].filter(GRAY);
  } else if (frame < 10) {
    // 반전 효과를 삭제
    // img[frame].filter(INVERT);  // 반전 효과 제거
  } else if (frame < 15) {
    img[frame].filter(THRESHOLD, 0.5);
  } else if (frame < 20) {
    img[frame].filter(BLUR, 1);
  } else {
    img[frame].filter(POSTERIZE, 4);
  }

  // 이미지 중심에 배치
  imageMode(CENTER);
  image(img[frame], 0, 0);  // 이미지 그리기
  
  println(frame);
} // mousePressed() 끝

void keyPressed() {
  // 'r' 키를 눌러서 이미지를 다시 로드하고 리사이즈
  if (key == 'r') {
    background(#FF8614);  // 배경 색상 변경 (주황색)
    for (int i = 0; i < frameNum; i++) {
      img[i] = loadImage("img" + nf(i, 2) + ".png"); 
      
      // 이미지를 랜덤 크기로 리사이즈 (최소 크기 100, 최대 크기 200)
      int newWidth = int(random(100, 200));  // 최소 크기를 100으로 설정
      int newHeight = int(random(100, 200));  // 최소 크기를 100으로 설정
      img[i].resize(newWidth, newHeight);  // 이미지 리사이즈
    }
  }
  
  // 's' 키를 눌러서 이미지를 저장
  if (key == 's') {
    saveFrame("image" + nf(count, 3) + ".jpg");
    count += 1;
  }
} // keyPressed() 끝
